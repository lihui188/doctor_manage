(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-doctor-index"],{"04b4":function(t,e,i){"use strict";function n(t){return/^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(t)}function a(t){return/^([0-9]{3,4}-)?[0-9]{7,8}$/.test(t)}function o(t){return/^1[0-9]{10}$/.test(t)}function r(t){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)}function s(t){return/^http[s]?:\/\/.*/.test(t)}function c(t){return/^[a-z]+$/.test(t)}function l(t){return/^[A-Z]+$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isEmail=n,e.isPhone=a,e.isMobile=o,e.isId=r,e.isURL=s,e.isLowerCase=c,e.isUpperCase=l},"0b3e":function(t,e,i){"use strict";(function(t){var n=i("ee27");i("caad"),i("a15b"),i("d81d"),i("fb6a"),i("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("d0af")),o=n(i("eaad")),r={props:{defaultRegions:{type:Array,default:function(){return[]}},defaultRegion:[String,Array]},data:function(){return{cityArr:o.default[0].children,districtArr:o.default[0].children[0].children,multiIndex:[0,0,0],isInitMultiArray:!0}},watch:{defaultRegion:{handler:function(e,i){Array.isArray(e)?(i=i||[],e.join("")!==i.join("")&&this.handleDefaultRegion(e)):t.warn("defaultRegion非有效格式")},immediate:!0}},computed:{multiArray:function(){return this.pickedArr.map((function(t){return t.map((function(t){return t.name}))}))},pickedArr:function(){return this.isInitMultiArray?[o.default,o.default[0].children,o.default[0].children[0].children]:[o.default,this.cityArr,this.districtArr]}},methods:{handleColumnChange:function(t){this.isInitMultiArray=!1;var e=this,i=t.detail.column,n=t.detail.value;e.multiIndex[i]=n;try{switch(i){case 0:if(0==o.default[e.multiIndex[0]].children.length){e.cityArr=e.districtArr=[o.default[e.multiIndex[0]]];break}e.cityArr=o.default[e.multiIndex[0]].children,e.districtArr=o.default[e.multiIndex[0]].children[e.multiIndex[1]].children;break;case 1:e.districtArr=o.default[e.multiIndex[0]].children[e.multiIndex[1]].children;break;case 2:break}}catch(t){e.districtArr=o.default[e.multiIndex[0]].children[0].children}},handleValueChange:function(t){var e=(0,a.default)(t.detail.value,3),i=e[0],n=e[1],o=e[2],r=(0,a.default)(this.pickedArr,3),s=r[0],c=r[1],l=r[2],u=[s[i],c[n],l[o]];this.$emit("getRegion",u)},handleDefaultRegion:function(t){var e=!Array.isArray(t);this.isInitMultiArray=!1;for(var i=o.default,n=0;n<3;n++)for(var a=0;a<i.length;a++){var r=e?i[a].code==t.slice(0,2*(n+1)):i[a].name.includes(t[n]);if(r){i=i[a].children,0==n?this.cityArr=i:1==n&&(this.districtArr=i),this.$set(this.multiIndex,n,a);break}0==n&&a==i.length-1&&(this.isInitMultiArray=!0)}}}};e.default=r}).call(this,i("5a52")["default"])},"3db4":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-picker",{attrs:{mode:"multiSelector",value:t.multiIndex,range:t.multiArray},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.handleValueChange.apply(void 0,arguments)},columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.handleColumnChange.apply(void 0,arguments)}}},[t._t("default")],2)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"56c9":function(t,e,i){"use strict";i.r(e);var n=i("0b3e"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"62e4d":function(t,e,i){"use strict";var n={pickRegions:i("89ae").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",[n("v-uni-view",{ref:"topTitleBox",staticClass:"topTitleBox",style:{"padding-top":"calc("+(t.topHeight-5)+"px  + 22upx)"}},[n("v-uni-image",{staticClass:"arrow",attrs:{src:i("d2b2")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back()}}}),n("v-uni-view",{staticClass:"title"},[t._v("成为医生")])],1),n("v-uni-view",{ref:"headPlaceBox",staticClass:"headPlaceBox",style:{"margin-top":"calc("+(t.topHeight-5)+"px)"}},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(" "))])],1)],1),n("v-uni-view",{staticClass:"proMsg"},[n("span",[t._v("请填写身份信息")]),0===t.subDoctor.isExamine?n("span",{staticStyle:{color:"#909399"}},[t._v("审核中")]):t._e(),-1===t.subDoctor.isExamine?n("span",{staticStyle:{color:"#F56C6C"}},[t._v("被驳回")]):t._e(),1===t.subDoctor.isExamine?n("span",{staticStyle:{color:"#67C23A"}},[t._v("审核通过")]):t._e()]),n("v-uni-view",[n("v-uni-view",{staticClass:"inputBox"},[n("span",{staticClass:"fillContent"},[t._v("真实姓名")]),n("v-uni-input",{staticClass:"inputFill",attrs:{maxlength:"50",type:"text",placeholder:"请输入"},model:{value:t.subDoctor.trueName,callback:function(e){t.$set(t.subDoctor,"trueName",e)},expression:"subDoctor.trueName"}})],1),n("v-uni-view",{staticClass:"inputBox"},[n("span",{staticClass:"fillContent"},[t._v("年龄")]),n("v-uni-input",{staticClass:"inputFill",attrs:{type:"number",maxlength:"3",placeholder:"请输入"},model:{value:t.subDoctor.age,callback:function(e){t.$set(t.subDoctor,"age",e)},expression:"subDoctor.age"}})],1),n("v-uni-view",{staticClass:"inputBox"},[n("span",{staticClass:"fillContent"},[t._v("身份证号")]),n("v-uni-input",{staticClass:"inputFill",attrs:{maxlength:"18",type:"text",placeholder:"请输入"},model:{value:t.subDoctor.idCode,callback:function(e){t.$set(t.subDoctor,"idCode",e)},expression:"subDoctor.idCode"}})],1)],1),n("v-uni-view",{staticClass:"proMsg"},[t._v("请填写地址信息")]),n("v-uni-view",[n("pick-regions",{attrs:{defaultRegion:t.defaultRegion},on:{getRegion:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGetRegion.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"itemBox"},[n("v-uni-view",{staticClass:"text"},[t._v("联系地址")]),n("v-uni-view",{staticClass:"picker"},[""!=t.subDoctor.province&&null!=t.subDoctor.province?n("v-uni-label",[t._v(t._s(t.subDoctor.province+" "+t.subDoctor.city+" "+t.subDoctor.area))]):t._e(),""==t.subDoctor.province||null==t.subDoctor.province?n("v-uni-label",[t._v("请选择所在位置")]):t._e(),n("v-uni-image",{staticClass:"img",attrs:{src:i("d2b2")}})],1)],1)],1),n("v-uni-view",{staticClass:"inputBox"},[n("span",{staticClass:"fillContent"},[t._v("详细地址")]),n("v-uni-input",{staticClass:"inputFill",attrs:{type:"text",maxlength:"20",placeholder:"请输入"},model:{value:t.subDoctor.detailAddress,callback:function(e){t.$set(t.subDoctor,"detailAddress",e)},expression:"subDoctor.detailAddress"}})],1),n("v-uni-view",{staticClass:"inputBox"},[n("span",{staticClass:"fillContent"},[t._v("证件号码")]),n("v-uni-input",{staticClass:"inputFill",attrs:{type:"text",maxlength:"30",placeholder:"请输入"},model:{value:t.subDoctor.certificateCode,callback:function(e){t.$set(t.subDoctor,"certificateCode",e)},expression:"subDoctor.certificateCode"}})],1)],1),n("v-uni-view",{staticClass:"proMsg"},[t._v("请上传你的执照")]),n("v-uni-view",{staticClass:"addImgBox"},[n("v-uni-view",{staticClass:"addImgBox"},[""!==t.subDoctor.certificateImg?n("v-uni-view",{staticClass:"imgBox"},[n("v-uni-image",{staticClass:"image",attrs:{src:t.convert(t.subDoctor.certificateImg),mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.imgInfo(t.index)}}}),n("v-uni-image",{staticClass:"fork",attrs:{src:i("e846")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delImg()}}})],1):t._e(),""==t.subDoctor.certificateImg?n("v-uni-view",{staticClass:"imgBox dashed_line",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectImg.apply(void 0,arguments)}}},[n("v-uni-image",{staticStyle:{width:"150upx",height:"150upx"},attrs:{src:i("8507")}}),n("v-uni-view",{staticClass:"color-upload"},[t._v("点击上传照片")])],1):t._e()],1)],1),1!==t.subDoctor.isExamine?n("v-uni-view",{staticClass:"submitAudit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.subAudit.apply(void 0,arguments)}}},[t._v("提交审核")]):t._e()],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"6f20":function(t,e,i){var n=i("c957");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5b469b31",n,!0,{sourceMap:!1,shadowMode:!1})},"82bb":function(t,e,i){"use strict";var n=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("89ae")),o=i("04b4"),r={components:{pickRegions:a.default},data:function(){return{myMes:{},imageList:[],userId:"",doctorInfo:{},defaultRegion:["广东省","广州市","天河区"],subDoctor:{age:"",certificateCode:"",certificateImg:"",province:"",city:"",area:"",detailAddress:"",id:"",idCode:"",isExamine:"",trueName:"",userId:""}}},onLoad:function(t){this.subDoctor.userId=t.id,this.getDoctorDetail()},methods:{getUserInfo:function(){var t=this;this.$http_normal({url:"/api/user/getUser",method:"get"}).then((function(e){t.myMes=e.data,"医生"==t.myMes["roles"][0].name&&t.getDoctorDetail()}))},selectImg:function(){var t=this;this.$getImgFile(4,1).then((function(e){t.$http_file({url:"/api/localStorage/upload",method:"post",data:{file:e[0].raw}}).then((function(e){t.subDoctor.certificateImg=e.data.url}))})).catch((function(t){uni.showToast({title:t,icon:"none"})}))},subAudit:function(){var t=this;if(""!==this.subDoctor.trueName){var e=/^([\u4e00-\u9fa5]{1,20}|[a-zA-Z\.\s]{1,20})$/;if(""===this.subDoctor.trueName||e.test(this.subDoctor.trueName))if(""!==this.subDoctor.age){var i=/^120$|^[1-9]$|^(1[0-1]|[1-9])\d$/;""===this.subDoctor.age||i.test(this.subDoctor.age)?""!==this.subDoctor.idCode?(0,o.isId)(this.subDoctor.idCode)?""!==this.subDoctor.province?""!==this.subDoctor.detailAddress?""!==this.subDoctor.certificateCode?""!==this.subDoctor.certificateImg?uni.showModal({title:"提示",content:"是否确认提交",success:function(e){e.confirm?t.$http_json({url:"/api/doctor/add",method:"post",data:t.subDoctor}).then((function(e){200===e.status&&(uni.showToast({title:"提交成功",icon:"success"}),setTimeout((function(){t.getDoctorDetail()}),2e3))})):e.cancel&&t.getDoctorDetail()}}):uni.showToast({title:"请上传执照图片",icon:"none"}):uni.showToast({title:"证件号码不能为空",icon:"none"}):uni.showToast({title:"详细地址不能为空",icon:"none"}):uni.showToast({title:"请选择联系地址",icon:"none"}):uni.showToast({title:"身份证号输入错误",icon:"none"}):uni.showToast({title:"身份证号不能为空",icon:"none"}):uni.showToast({title:"年龄只能输入1-120",icon:"none"})}else uni.showToast({title:"年龄不能为空",icon:"none"});else uni.showToast({title:"姓名只能由汉字或英文组成",icon:"none"})}else uni.showToast({title:"真实姓名不能为空",icon:"none"})},getDoctorDetail:function(){var t=this;this.$http_normal({url:"/api/doctor/get",method:"get"}).then((function(e){200===e.status&&e.data&&(t.subDoctor=e.data)}))},imgInfo:function(t){var e=[];e.push(this.baseUrl+this.subDoctor.certificateImg),uni.previewImage({current:t,loop:!1,urls:e,indicator:"default"})},delImg:function(){var t=this;uni.showModal({content:"确定删除这张图片吗?",success:function(e){e.confirm&&(t.subDoctor.certificateImg="")}})},handleGetRegion:function(t){this.subDoctor.province=t[0].name,this.subDoctor.city=t[1].name,this.subDoctor.area=t[2].name}}};e.default=r},8507:function(t,e,i){t.exports=i.p+"static/img/license.66db9b4b.png"},"89ae":function(t,e,i){"use strict";i.r(e);var n=i("3db4"),a=i("56c9");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports},b973:function(t,e,i){"use strict";var n=i("6f20"),a=i.n(n);a.a},c957:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-2b316e73]{background-color:#f5f5f5}.topTitleBox[data-v-2b316e73]{width:100%;top:0;z-index:99;background-color:#fff;position:fixed;box-shadow:rgba(0,0,0,.2) 0 1px 5px 0;padding:0 %?12?% %?18?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.topTitleBox .arrow[data-v-2b316e73]{width:%?60?%;height:%?60?%;position:absolute;left:0}.topTitleBox .title[data-v-2b316e73]{font-size:%?32?%;color:#000;font-weight:700}.headPlaceBox[data-v-2b316e73]{width:100%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.headPlaceBox .arrow[data-v-2b316e73]{width:%?60?%;height:%?60?%;position:absolute;left:0}.headPlaceBox .title[data-v-2b316e73]{font-size:%?32?%;color:#000;font-weight:700}.fixedImg[data-v-2b316e73]{width:100%;height:%?506?%;position:fixed;bottom:0;z-index:-1}.proMsg[data-v-2b316e73]{font-size:%?28?%;margin:%?20?% %?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.fillContent[data-v-2b316e73]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;padding:%?20?% %?20?%}.margin-left-20[data-v-2b316e73]{margin-left:%?20?%}.padding-left-20[data-v-2b316e73]{paddding-left:%?20?%}.inputFill[data-v-2b316e73]{-webkit-box-flex:4;-webkit-flex:4;flex:4;font-size:%?30?%}.inputBox[data-v-2b316e73]{display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.dashed_line[data-v-2b316e73]{border:%?5?% dashed #cdcdcd}.addImgBox[data-v-2b316e73]{width:100%;height:%?300?%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.addImgBox .imgBox[data-v-2b316e73]{width:60%;height:%?200?%;border-radius:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative}.addImgBox .imgBox .image[data-v-2b316e73]{width:100%;height:%?200?%}.addImgBox .imgBox .fork[data-v-2b316e73]{position:absolute;z-index:98;width:%?40?%;height:%?40?%;right:%?8?%;top:%?10?%;border-radius:%?20?%}.color-upload[data-v-2b316e73]{color:#cdcdcd}.submitAudit[data-v-2b316e73]{margin-top:%?30?%;background-color:#fff;padding:%?20?%;text-align:center;color:#247bff}.itemBox[data-v-2b316e73]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;background-color:#fff}.itemBox .text[data-v-2b316e73]{text-align:left;width:4rem;line-height:%?42?%;font-size:%?30?%;padding:%?20?% %?20?%}.itemBox .input[data-v-2b316e73]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#000;font-size:%?28?%;line-height:%?42?%;padding:%?6?% 0;margin-left:%?54?%;border-bottom:1px solid #e5e5e5}.itemBox .picker[data-v-2b316e73]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#505050;font-size:%?28?%;line-height:%?42?%;padding:%?6?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.itemBox .picker .img[data-v-2b316e73]{margin-left:auto;min-width:%?40?%;min-height:%?40?%;max-width:%?40?%;max-height:%?40?%;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.selectSort2[data-v-2b316e73]{margin-top:%?14?%;width:100%;border:1px solid #a6a6a6;border-radius:%?6?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.selectSort2 .icon[data-v-2b316e73]{width:%?40?%;height:%?40?%;margin-right:%?6?%;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.selectSort2 .input[data-v-2b316e73]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:%?14?% %?20?%;color:#000;font-size:%?28?%;line-height:%?42?%}.selectSort2 .textarea[data-v-2b316e73]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:%?14?% %?20?%;color:#000;font-size:%?28?%;line-height:%?42?%;height:%?524?%}.selectSort2 .select[data-v-2b316e73]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:%?14?% %?20?%;color:#000;font-size:%?28?%;line-height:%?42?%}.selectSort2 .gary[data-v-2b316e73]{color:grey!important}body.?%PAGE?%[data-v-2b316e73]{background-color:#f5f5f5}',""]),t.exports=e},cca7:function(t,e,i){"use strict";i.r(e);var n=i("82bb"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},d0af:function(t,e,i){"use strict";function n(t){if(Array.isArray(t))return t}i.r(e);i("a4d3"),i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function a(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0)if(i.push(r.value),e&&i.length===e)break}catch(c){a=!0,o=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(a)throw o}}return i}}var o=i("dde1");function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return n(t)||a(t,e)||Object(o["a"])(t,e)||r()}i.d(e,"default",(function(){return s}))},d36c:function(t,e,i){"use strict";i.r(e);var n=i("62e4d"),a=i("cca7");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("b973");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"2b316e73",null,!1,n["a"],r);e["default"]=c.exports},e846:function(t,e,i){t.exports=i.p+"static/img/delete.534699e5.png"}}]);